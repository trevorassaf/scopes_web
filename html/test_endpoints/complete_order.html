<html>
  <body>
    <div id='complete-order-form'>
      Confirmed order id: <input type='text' id='cid' />  
      <button type='button' id='complete-order-btn'>Complete Order</button>
    </div>
    
    <div id='get-completed-orders-form'>
      User id: <input type='text' id='uid' />  
      <button type='button' id='get-completed-orders-btn'>Get Completed Orders</button>
    </div>

    <div id='completed-orders'></div>
    
    <div id='response'></div>

    <script type='text/javascript' src='../../js/network/core/scopes_network.js'></script>
    <script type='text/javascript' src='../../js/network/api/scopes_api.js'></script>
    <script type='text/javascript' src='../../js/network/api/get_users_completed_orders_api.js'></script>
    <script type='text/javascript' src='../../js/network/api/complete_order_api.js'></script>
    <script type='text/javascript'>
      function getUsersCompletedOrders() {
        var user_id  = document.getElementById('uid').value; 
        if (user_id == '') {
          console.log("User id not set!");
          return;
        }

        var get_completed_orders_api = new GetUsersCompletedOrdersApi(ScopesNetwork);
        get_completed_orders_api
          .setUserId(user_id)
          .setSuccessfulCallback(
            function(response) {
              console.log("Success! " + response.responseText); 
            }     
          )
          .setFailedCallback(
            function(response) {
              console.log("Failed! " + response.responseText); 
            }     
          )
          .send();
      }; 

      function completeOrder() {
        var confirmed_order_id = document.getElementById('cid').value; 
        if (confirmed_order_id == '') {
          console.log('Confirmed order id not set!');
          return;
        }

        var complete_order_api = new CompleteOrderApi(ScopesNetwork);
        complete_order_api
          .setConfirmedOrderId(confirmed_order_id)
          .setSuccessfulCallback(
            function(response) {
              console.log("Success! " + response.responseText); 
            }     
          )
          .setFailedCallback(
            function(response) {
              console.log("Failed! " + response.responseText); 
            }     
          )
          .send();
      };

      document.getElementById('complete-order-btn').onclick = function() {
        completeOrder();  
      };

      document.getElementById('get-completed-orders-btn').onclick = function() {
        getUsersCompletedOrders();  
      };

    </script>
  </body>
</html>
